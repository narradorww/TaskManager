# TaskManager - React Native App

Um aplicativo de gerenciamento de tarefas desenvolvido em React Native com TypeScript para o desafio t√©cnico da Capitani Grou·πï, seguindo princ√≠pios de arquitetura escal√°vel e boas pr√°ticas de desenvolvimento.

## üéØ Vis√£o Geral
Al√©m do desafio principal ‚Äî criar uma aplica√ß√£o funcional para gerenciamento de tarefas ‚Äî este projeto prop√µe um fluxo completo de CI/CD voltado para times pequenos, com foco em distribui√ß√£o interna de builds.

A aplica√ß√£o foi pensada para cen√°rios em que n√£o se quer (ou n√£o se pode) depender das lojas oficiais (Google Play ou App Store) para testes. Por isso, todo o processo de entrega cont√≠nua foi estruturado para entregar vers√µes assinadas automaticamente em uma loja interna personalizada.

üì≤ A vers√£o mais recente do APK est√° dispon√≠vel para download via link direto ou QR Code na loja:

## üîó Loja Interna - TaskManager

üì∏ Visual da Loja Interna

![TaskManager App](src/assets/store.png)

## üîÑ CI/CD Pipeline
O projeto implementa um pipeline de CI/CD robusto usando GitHub Actions, garantindo qualidade e automa√ß√£o em todos os est√°gios de desenvolvimento.

üß© Estrutura do Pipeline

```mermaid
graph LR
    A[Push/PR] --> B[Lint & Format]
    B --> C[Type Check]
    C --> D[Unit Tests]
    D --> E[Coverage Report]
    E --> F[E2E Tests]
    F --> G[Build APK]
    G --> H[Upload to AWS S3]
    H --> I[Publica√ß√£o na Loja Interna]
```

## ‚öôÔ∏è Etapas Explicadas
1. Valida√ß√£o (validate)
Executa yarn lint, yarn type-check e yarn test --coverage

Gera artefato com o relat√≥rio de cobertura

Garante que o c√≥digo est√° limpo e seguro antes de avan√ßar

2. Testes E2E com Maestro (e2e-maestro)
Instala o CLI do Maestro

Roda cen√°rios de uso completos simulando o fluxo do usu√°rio

Salva os relat√≥rios dos testes como artefatos

3. Build e Distribui√ß√£o (build-android)
Prepara o ambiente Android (Node.js, Java, SDK)
[Nessa etapa optamos por focar na entrega do apk android por n√£o estar com um MAC disponivel para teste]

Baixa o keystore seguro da AWS S3 e configura as vari√°veis de assinatura

Gera o bundle JS e compila o APK (assembleRelease)

Faz o upload do APK:

Para o bucket S3 (rodrigo-apk-store)

Como artifact no GitHub (com versionamento via github.run_number)

## ‚úÖ Benef√≠cios
Distribui√ß√£o √Ågil: sem esperar publica√ß√£o nas lojas

Ambiente Controlado: ideal para QAs, devs ou usu√°rios selecionados

Seguran√ßa e Versionamento: builds assinados com controle de vers√£o

Interface Simples: com download via bot√£o ou QR Code para facilitar o acesso em dispositivos reais



## üèóÔ∏è Decis√µes Arquiteturais

### Por que esta configura√ß√£o?

A escolha das tecnologias e configura√ß√µes foi baseada em requisitos espec√≠ficos de qualidade, escalabilidade e experi√™ncia do desenvolvedor(DX) al√©m da necessidade de demostrar conhecimentos em CICD:

#### **React Native + TypeScript**
- **Type Safety**: TypeScript oferece verifica√ß√£o de tipos em tempo de compila√ß√£o, reduzindo bugs em runtime
- **Manutenibilidade**: C√≥digo mais leg√≠vel e auto-documentado
- **Escalabilidade**: Facilita a manuten√ß√£o em projetos grandes

#### **ESLint + Prettier**
- **Consist√™ncia**: Garante padr√µes de c√≥digo uniformes em toda a equipe
- **Qualidade**: Identifica problemas potenciais antes da execu√ß√£o
- **Automa√ß√£o**: Formata√ß√£o autom√°tica elimina debates sobre estilo de c√≥digo
- **Integra√ß√£o**: Configurado com Husky para verifica√ß√£o pr√©-commit

#### **Jest + Testing Library**
- **Cobertura**: Testes unit√°rios abrangentes
- **Confian√ßa**: Refatora√ß√£o segura com testes automatizados
- **Documenta√ß√£o**: Testes servem como documenta√ß√£o do comportamento
- **Qualidade**: Reduz regress√µes e bugs em produ√ß√£o

#### **Maestro E2E Testing**
- **Testes End-to-End**: Valida√ß√£o completa do fluxo do usu√°rio
- **Automa√ß√£o**: Testes automatizados para cen√°rios cr√≠ticos
- **Confian√ßa**: Garantia de que as funcionalidades principais funcionam
- **Efici√™ncia**: Reduz testes manuais repetitivos

## üèõÔ∏è Arquitetura H√≠brida: Escalabilidade e Organiza√ß√£o

### Estruturando para Escalabilidade: Uma Abordagem Arquitetural H√≠brida

√Ä medida que uma aplica√ß√£o cresce, uma estrutura de pastas simples como `components` e `screens` torna-se muito dificil de controlar, levando a um acoplamento indesejado e dificuldade de manuten√ß√£o. Para evitar isso, foi adotada uma **arquitetura h√≠brida** que combina tr√™s padr√µes poderosos:

#### **1. Arquitetura Baseada em Funcionalidades (Feature-Based)**
O c√≥digo √© organizado por **dom√≠nio de neg√≥cio** (por exemplo, `tasks`, `auth`) em vez de por tipo t√©cnico. Esta √© a principal estrat√©gia organizacional, promovendo:
- **Encapsulamento**: Cada funcionalidade √© autocontida
- **Escalabilidade**: F√°cil adi√ß√£o de novas funcionalidades
- **Manutenibilidade**: Mudan√ßas isoladas por dom√≠nio
- **Colabora√ß√£o**: Equipes podem trabalhar em funcionalidades independentes

#### **2. Clean Architecture**
Dentro de cada funcionalidade, os princ√≠pios da Clean Architecture s√£o aplicados para separar as responsabilidades em camadas distintas:
- **Camada de Apresenta√ß√£o/UI**: Componentes React e telas
- **Camada de Dom√≠nio**: L√≥gica de neg√≥cio (reducers, useCases)
- **Camada de Dados**: Gerenciamento de estado/contexto

#### **3. Atomic Design**
Os componentes de UI s√£o estruturados seguindo uma hierarquia clara:
- **√Åtomos**: Blocos de constru√ß√£o mais b√°sicos (Button, Input, StatusCard)
- **Mol√©culas**: Combina√ß√µes de √°tomos (AddTaskForm, TaskItem)
- **Organismos**: Se√ß√µes completas da UI (TaskScreen, DashboardScreen)

Esta abordagem h√≠brida oferece:
- **Organiza√ß√£o em macro-n√≠vel** (funcionalidades)
- **Separa√ß√£o l√≥gica** (camadas)
- **Consist√™ncia de UI** em micro-n√≠vel (componentes at√¥micos)

## üìÅ Estrutura de Diret√≥rios

```
TaskManager/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                             # Ponto de entrada da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ features/                           # üéØ Funcionalidades (Feature-Based)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tasks/                          # Dom√≠nio de Tarefas
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ components/                 # üß© Componentes UI (Atomic Design)
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ atoms/                  # √Ätomos: componentes b√°sicos
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomButton.tsx
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StatusCard.tsx
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ molecules/              # Mol√©culas: combina√ß√µes de √°tomos
‚îÇ   ‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ AddTaskForm.tsx
‚îÇ   ‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ TaskItem.tsx
‚îÇ   ‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ TaskList.tsx
‚îÇ   ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ TaskActions.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ screens/                    # üñ•Ô∏è Organismos: telas completas
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ DashBoardScreen.tsx
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ TaskScreen.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ context/                    # üß† Camada de Dados (Clean Architecture)
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ TaskContext.tsx
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ taskReducer.ts
‚îÇ   ‚îú‚îÄ‚îÄ navigation/                         # üß≠ Navega√ß√£o da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AppNavigator.tsx
‚îÇ   ‚îú‚îÄ‚îÄ types/                              # üìù Defini√ß√µes de tipos TypeScript
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ task.ts
‚îÇ   ‚îî‚îÄ‚îÄ core/                               # üîß Utilit√°rios e configura√ß√µes globais
‚îú‚îÄ‚îÄ __tests__/                              # üß™ Testes unit√°rios
‚îú‚îÄ‚îÄ maestro/                                # üé≠ Testes E2E
‚îú‚îÄ‚îÄ android/                                # ü§ñ Configura√ß√µes Android
‚îú‚îÄ‚îÄ ios/                                    # üçé Configura√ß√µes iOS
‚îî‚îÄ‚îÄ [configura√ß√µes do projeto]
```

### üìä Hierarquia de Componentes (Atomic Design)

```
√Åtomos (Atoms)
‚îú‚îÄ‚îÄ CustomButton     # Bot√£o reutiliz√°vel
‚îî‚îÄ‚îÄ StatusCard       # Card de status

Mol√©culas (Molecules)
‚îú‚îÄ‚îÄ AddTaskForm      # Formul√°rio de adi√ß√£o (Button + Input)
‚îú‚îÄ‚îÄ TaskItem         # Item de tarefa (Button + Text + Status)
‚îú‚îÄ‚îÄ TaskList         # Lista de tarefas (m√∫ltiplos TaskItem)
‚îî‚îÄ‚îÄ TaskActions      # A√ß√µes de tarefas (m√∫ltiplos Button)

Organismos (Organisms)
‚îú‚îÄ‚îÄ DashBoardScreen  # Tela principal (StatusCards + TaskActions)
‚îî‚îÄ‚îÄ TaskScreen       # Tela de tarefas (AddTaskForm + TaskList)
```

## üîÑ CI/CD Pipeline

O projeto implementa um pipeline de CI/CD robusto usando GitHub Actions, garantindo qualidade e automa√ß√£o em todos os est√°gios de desenvolvimento:

### Pipeline de Qualidade
```mermaid
graph LR
    A[Push/PR] --> B[Lint & Format]
    B --> C[Type Check]
    C --> D[Unit Tests]
    D --> E[Coverage Report]
    E --> F[E2E Tests]
    F --> G[Build APK]
    G --> H[Deploy S3]
    H --> I[Publish on Internal Store]
```

### Etapas do Pipeline

#### **1. Valida√ß√£o (validate)**
- **Lint & Format**: Verifica√ß√£o de padr√µes de c√≥digo com ESLint/Prettier
- **Type Check**: Valida√ß√£o rigorosa de tipos TypeScript
- **Unit Tests**: Execu√ß√£o completa da su√≠te de testes com cobertura
- **Coverage Report**: Gera√ß√£o e upload de relat√≥rio de cobertura

#### **2. Testes E2E (e2e-maestro)**
- **Maestro Tests**: Execu√ß√£o automatizada de testes end-to-end
- **Valida√ß√£o Funcional**: Verifica√ß√£o de fluxos cr√≠ticos do usu√°rio
- **Report Upload**: Armazenamento de relat√≥rios de teste

#### **3. Build Android (build-android)**
- **Environment Setup**: Configura√ß√£o de Node.js, Java e Android SDK
- **Keystore Security**: Download seguro de keystore via AWS S3
- **Bundle Generation**: Cria√ß√£o otimizada do bundle JavaScript
- **APK Build**: Compila√ß√£o de APK release assinado
- **Artifact Management**: Upload para S3 e GitHub Artifacts

### Recursos de Seguran√ßa
- **Secrets Management**: Credenciais seguras via GitHub Secrets
- **AWS Integration**: Upload automatizado para S3
- **Versioning**: APKs versionados por n√∫mero de build
- **Retention Policy**: Artifacts mantidos por 30 dias

## üöÄ Como Executar

### Pr√©-requisitos
- Node.js (v20+)
- React Native CLI
- Android Studio / Xcode
- Maestro CLI (para testes E2E)

### Instala√ß√£o
```bash
# Clonar o reposit√≥rio
git clone https://github.com/narradorww/TaskManager.git
cd TaskManager

# Instalar depend√™ncias
yarn install

# iOS (macOS apenas)
cd ios && pod install && cd ..

# Android
# Certifique-se de ter um emulador Android rodando
```

### Executar o Projeto
```bash
# Iniciar Metro bundler
yarn start

# Android
yarn run android

# iOS
yarn run ios
```

## üß™ Testes

### Testes Unit√°rios
```bash
# Executar todos os testes
yarn test

# Executar com watch mode
yarn test -- --watch

# Executar com coverage
yarn test -- --coverage
```

### Testes E2E (Maestro)

Este projeto utiliza o [Maestro](https://maestro.mobile.dev/) para testes end-to-end.

> **Aten√ß√£o:** Os testes E2E funcionam apenas com seletores de texto, n√£o utilize testIDs.

```bash
# Executar o teste E2E funcional
yarn run test:e2e
# ou diretamente
maestro test maestro/test.yaml
```

#### Troubleshooting Maestro
- Certifique-se de que o app est√° compilado com as √∫ltimas mudan√ßas.
- Use sempre seletores de texto nos testes E2E.
- Se o teste falhar, rode novamente ap√≥s recompilar o app.


### Qualidade de C√≥digo
```bash
# Linting
yarn run lint

# Formata√ß√£o
yarn run format

# Verificar tipos TypeScript
yarn run type-check
```

## üìã Funcionalidades

### ‚úÖ Implementadas
- [x] Dashboard com resumo de tarefas
- [x] Adicionar novas tarefas
- [x] Marcar tarefas como conclu√≠das
- [x] Listar tarefas pendentes e conclu√≠das
- [x] Limpar tarefas conclu√≠das
- [x] Persist√™ncia local com AsyncStorage
- [x] Navega√ß√£o entre telas
- [x] Interface responsiva e acess√≠vel

### üîÑ Pr√≥ximas Funcionalidades
- [ ] Categoriza√ß√£o de tarefas (mukt-status)
- [ ] Filtros e busca
- [ ] Notifica√ß√µes
- [ ] Sincroniza√ß√£o com backend
- [ ] Temas claro/escuro
- [ ] Anima√ß√µes e transi√ß√µes


## üõ†Ô∏è Tecnologias Utilizadas

### Core
- **React Native** - Framework mobile
- **TypeScript** - Linguagem tipada
- **React Navigation** - Navega√ß√£o

### Estado e Dados
- **Context API** - Gerenciamento de estado
- **AsyncStorage** - Persist√™ncia local

### Qualidade e Testes
- **Jest** - Framework de testes
- **Testing Library** - Utilit√°rios de teste
- **Maestro** - Testes E2E
- **ESLint** - Linting
- **Prettier** - Formata√ß√£o

### DevOps & CI/CD
- **GitHub Actions** - Pipeline de CI/CD
- **AWS S3** - Armazenamento de artifacts
- **Husky** - Git hooks
- **Commitlint** - Padroniza√ß√£o de commits

## üìà M√©tricas de Qualidade

- **Cobertura de Testes**: 77/77 testes passando (100%)
- **Linting**: Zero erros de ESLint
- **TypeScript**: Verifica√ß√£o de tipos rigorosa
- **E2E**: Testes automatizados funcionais
- **CI/CD**: Pipeline automatizado com 3 etapas de valida√ß√£o

## ü§ù Contribui√ß√£o

Para contribuir, siga as diretrizes detalhadas em [CONTRIBUTING.md](CONTRIBUTING.md).

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT e foi criado como um Desafio de Teste. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## üë• Equipe

[Rodrigo Alexandre](mailto:rodrigo.anst@gmail.com)  
üåê [rodrigoalexandre.dev](https://rodrigoalexandre.dev)  
üîó [linkedin.com/in/rodrigoalexandre79](https://linkedin.com/in/rodrigoalexandre79)  
üì© [rodrigo.anst@gmail.com](mailto:rodrigo.anst@gmail.com)

---

**TaskManager** - Organize suas tarefas de forma eficiente e escal√°vel! üöÄ